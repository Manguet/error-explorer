{% extends 'dashboard/base.html.twig' %}
{% form_theme form 'form/dashboard_form_theme.html.twig' %}

{% block title %}Modifier le profil - {{ parent() }}{% endblock %}

{% block page_title %}Modifier le profil{% endblock %}
{% block page_subtitle %}Mettez à jour vos informations personnelles{% endblock %}

{% block breadcrumb_items %}
    <a href="{{ path('dashboard_profile_index') }}" class="breadcrumb__link">Mon Profil</a>
    <span class="breadcrumb__current">Modifier le profil</span>
{% endblock %}

{% block header_actions %}
    <a href="{{ path('dashboard_profile_index') }}" class="btn btn--secondary">
        <svg class="btn__icon" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 17l-5-5m0 0l5-5m-5 5h12"/>
        </svg>
        <span class="btn__text">Retour</span>
    </a>
{% endblock %}

{% block body %}
    <div class="dashboard-section">
        <div class="dashboard-table-container">
            <div class="dashboard-table-container-header">
                <h3>Modifier le profil</h3>
            </div>
            <div style="padding: 2rem;">
                {{ form_start(form, {'attr': {'class': 'dashboard-form'}}) }}
                    <div class="dashboard-form__row">
                        <div class="dashboard-form__field">
                            <label class="dashboard-form__label">{{ form.firstName.vars.label }}</label>
                            {{ form_widget(form.firstName, {'attr': {'class': 'dashboard-form__input'}}) }}
                            {{ form_errors(form.firstName) }}
                        </div>
                        <div class="dashboard-form__field">
                            <label class="dashboard-form__label">{{ form.lastName.vars.label }}</label>
                            {{ form_widget(form.lastName, {'attr': {'class': 'dashboard-form__input'}}) }}
                            {{ form_errors(form.lastName) }}
                        </div>
                    </div>
                    
                    <div class="dashboard-form__field">
                        <label class="dashboard-form__label">{{ form.email.vars.label }}</label>
                        {{ form_widget(form.email, {'attr': {'class': 'dashboard-form__input'}}) }}
                        {{ form_errors(form.email) }}
                        <p class="dashboard-form__help">
                            <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="display: inline; margin-right: 0.25rem;">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            Si vous modifiez votre email, vous devrez la vérifier à nouveau.
                        </p>
                    </div>
                    
                    <div class="dashboard-form__field">
                        <label class="dashboard-form__label">{{ form.company.vars.label }}</label>
                        {{ form_widget(form.company, {'attr': {'class': 'dashboard-form__input'}}) }}
                        {{ form_errors(form.company) }}
                    </div>
                    
                    <div class="dashboard-form__actions">
                        <a href="{{ path('dashboard_profile_index') }}" class="btn btn--secondary">
                            <span class="btn__text">Annuler</span>
                        </a>
                        <button type="submit" class="btn btn--primary">
                            <span class="btn__text">Enregistrer</span>
                        </button>
                    </div>
                {{ form_end(form) }}
            </div>
        </div>
    </div>
{% endblock %}