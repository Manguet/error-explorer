<div id="cookieBanner" class="cookie-banner" data-consent-banner>
    <div class="cookie-banner__content">
        <div class="cookie-banner__text">
            <div class="cookie-banner__title">
                <span class="cookie-banner__icon">üç™</span>
                Gestion des cookies
            </div>
            <div class="cookie-banner__description">
                Nous utilisons des cookies pour am√©liorer votre exp√©rience sur Error Explorer.
                Vous pouvez accepter tous les cookies ou personnaliser vos pr√©f√©rences selon vos besoins.
            </div>
        </div>
        <div class="cookie-banner__actions">
            <button type="button"
                    class="cookie-btn cookie-btn--accept"
                    data-cookie-action="accept-all"
                    aria-label="Accepter tous les cookies">
                <span class="cookie-btn__icon">‚úì</span>
                Accepter tout
            </button>
            <button type="button"
                    class="cookie-btn cookie-btn--customize"
                    data-cookie-action="customize"
                    aria-label="Personnaliser les cookies">
                <span class="cookie-btn__icon">‚öôÔ∏è</span>
                Personnaliser
            </button>
            <button type="button"
                    class="cookie-btn cookie-btn--reject"
                    data-cookie-action="reject-all"
                    aria-label="Refuser tous les cookies optionnels">
                <span class="cookie-btn__icon">‚úï</span>
                Refuser
            </button>
        </div>
    </div>
</div>

<div id="cookieModal" class="cookie-modal" data-cookie-modal aria-hidden="true" role="dialog" aria-labelledby="cookieModalTitle">
    <div class="cookie-modal__backdrop" data-cookie-action="close-modal" aria-hidden="true"></div>
    <div class="cookie-modal__content">
        <div class="cookie-modal__header">
            <h2 id="cookieModalTitle" class="cookie-modal__title">
                Pr√©f√©rences des cookies
            </h2>
            <button type="button"
                    class="cookie-modal__close"
                    data-cookie-action="close-modal"
                    aria-label="Fermer la modal des pr√©f√©rences">
                &times;
            </button>
        </div>

        <div class="cookie-modal__body">
            <div class="cookie-modal__intro">
                <p>
                    Nous utilisons diff√©rents types de cookies pour am√©liorer votre exp√©rience sur Error Explorer.
                    Vous pouvez choisir quels cookies accepter ou refuser ci-dessous.
                </p>
            </div>

            <div class="cookie-category cookie-category--essential">
                <div class="cookie-category__header">
                    <h3 class="cookie-category__title">
                        <span class="cookie-category__icon">üîí</span>
                        Cookies essentiels
                    </h3>
                    <span class="cookie-category__required" aria-label="Cookies obligatoires">
                        Obligatoire
                    </span>
                </div>
                <div class="cookie-category__body">
                    <p class="cookie-category__description">
                        Ces cookies sont n√©cessaires au fonctionnement du site et ne peuvent pas √™tre d√©sactiv√©s.
                        Ils sont essentiels pour votre s√©curit√© et l'utilisation des fonctionnalit√©s de base.
                    </p>
                    <div class="cookie-category__details">
                        <strong>Exemples :</strong>
                        Session utilisateur, authentification, protection CSRF, pr√©f√©rences de langue, panier
                    </div>
                    <div class="cookie-category__storage">
                        <strong>Conservation :</strong> Session ou 1 an maximum
                    </div>
                </div>
            </div>

            <div class="cookie-category cookie-category--performance">
                <div class="cookie-category__header">
                    <h3 class="cookie-category__title">
                        <span class="cookie-category__icon">üìä</span>
                        Cookies de performance
                    </h3>
                    <label class="cookie-toggle" for="performance-cookies">
                        <input type="checkbox"
                               id="performance-cookies"
                               data-cookie-category="performance"
                               aria-describedby="performance-description">
                        <span class="cookie-toggle__slider" aria-hidden="true"></span>
                        <span class="sr-only">Activer les cookies de performance</span>
                    </label>
                </div>
                <div class="cookie-category__body">
                    <p id="performance-description" class="cookie-category__description">
                        Ces cookies nous aident √† comprendre comment vous utilisez notre site pour l'am√©liorer.
                        Ils collectent des informations anonymes sur votre navigation.
                    </p>
                    <div class="cookie-category__details">
                        <strong>Exemples :</strong>
                        Google Analytics, m√©triques de performance, temps de chargement, erreurs techniques
                    </div>
                    <div class="cookie-category__storage">
                        <strong>Conservation :</strong> 2 ans maximum
                    </div>
                </div>
            </div>

            <div class="cookie-category cookie-category--functional">
                <div class="cookie-category__header">
                    <h3 class="cookie-category__title">
                        <span class="cookie-category__icon">‚ö°</span>
                        Cookies de fonctionnalit√©
                    </h3>
                    <label class="cookie-toggle" for="functional-cookies">
                        <input type="checkbox"
                               id="functional-cookies"
                               data-cookie-category="functional"
                               aria-describedby="functional-description">
                        <span class="cookie-toggle__slider" aria-hidden="true"></span>
                        <span class="sr-only">Activer les cookies de fonctionnalit√©</span>
                    </label>
                </div>
                <div class="cookie-category__body">
                    <p id="functional-description" class="cookie-category__description">
                        Ces cookies permettent des fonctionnalit√©s avanc√©es et une exp√©rience personnalis√©e
                        sur notre plateforme de monitoring d'erreurs.
                    </p>
                    <div class="cookie-category__details">
                        <strong>Exemples :</strong>
                        Chat support, cartes interactives, pr√©f√©rences d'affichage, contenu personnalis√©
                    </div>
                    <div class="cookie-category__storage">
                        <strong>Conservation :</strong> 1 an maximum
                    </div>
                </div>
            </div>

            <div class="cookie-category cookie-category--marketing">
                <div class="cookie-category__header">
                    <h3 class="cookie-category__title">
                        <span class="cookie-category__icon">üéØ</span>
                        Cookies marketing
                    </h3>
                    <label class="cookie-toggle" for="marketing-cookies">
                        <input type="checkbox"
                               id="marketing-cookies"
                               data-cookie-category="marketing"
                               aria-describedby="marketing-description">
                        <span class="cookie-toggle__slider" aria-hidden="true"></span>
                        <span class="sr-only">Activer les cookies marketing</span>
                    </label>
                </div>
                <div class="cookie-category__body">
                    <p id="marketing-description" class="cookie-category__description">
                        Ces cookies sont utilis√©s pour vous proposer de la publicit√© et du contenu pertinents
                        sur Error Explorer et d'autres sites web.
                    </p>
                    <div class="cookie-category__details">
                        <strong>Exemples :</strong>
                        Facebook Pixel, Google Ads, remarketing, tracking des conversions
                    </div>
                    <div class="cookie-category__storage">
                        <strong>Conservation :</strong> 13 mois maximum
                    </div>
                </div>
            </div>
        </div>

        <div class="cookie-modal__footer">
            <div class="cookie-modal__actions">
                <button type="button"
                        class="cookie-btn cookie-btn--secondary"
                        data-cookie-action="reject-all">
                    <span class="cookie-btn__icon">‚úï</span>
                    Refuser tout
                </button>
                <button type="button"
                        class="cookie-btn cookie-btn--primary"
                        data-cookie-action="save-preferences">
                    <span class="cookie-btn__icon">üíæ</span>
                    Enregistrer mes choix
                </button>
                <button type="button"
                        class="cookie-btn cookie-btn--success"
                        data-cookie-action="accept-all">
                    <span class="cookie-btn__icon">‚úì</span>
                    Accepter tout
                </button>
            </div>
            <div class="cookie-modal__legal">
                <p class="cookie-modal__legal-text">
                    Pour plus d'informations, consultez notre
                    <a href="{{ path('privacy') }}" class="cookie-modal__legal-link">politique de confidentialit√©</a>.
                </p>
            </div>
        </div>
    </div>
</div>

<button type="button"
        id="cookieSettingsBtn"
        class="cookie-settings-btn"
        data-cookie-action="open-settings"
        title="Param√®tres des cookies"
        aria-label="Ouvrir les param√®tres des cookies"
        style="display: none;">
    <span class="cookie-settings-btn__icon">‚öôÔ∏è</span>
    <span class="sr-only">Param√®tres cookies</span>
</button>

<div id="cookieNotification" class="cookie-notification" role="alert" aria-live="polite" style="display: none;">
    <div class="cookie-notification__content">
        <span class="cookie-notification__icon"></span>
        <span class="cookie-notification__message"></span>
    </div>
    <button type="button"
            class="cookie-notification__close"
            data-cookie-action="close-notification"
            aria-label="Fermer la notification">
        &times;
    </button>
</div>
