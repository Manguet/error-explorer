{% extends 'emails/base_email.html.twig' %}

{% block title %}Test d'alerte - Error Explorer{% endblock %}

{% block header_class %}email-header--success{% endblock %}

{% block status_badge %}
    <div class="status-badge">
        ğŸ§ª EMAIL DE TEST
    </div>
{% endblock %}

{% block email_title %}Test d'alerte Error Explorer{% endblock %}

{% block email_subtitle %}Votre configuration d'alertes fonctionne parfaitement !{% endblock %}

{% block body %}
    <!-- IcÃ´ne de succÃ¨s -->
    <div class="text-center mb-3">
        <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #10b981, #059669); border-radius: 50%; margin: 0 auto; display: flex; align-items: center; justify-content: center; font-size: 40px; color: white;">
            âœ“
        </div>
    </div>

    <h2 class="text-center">FÃ©licitations ! Votre test est rÃ©ussi ğŸ‰</h2>

    <p class="text-center">Cet email confirme que votre configuration d'alertes est fonctionnelle et que vous recevrez bien les notifications d'erreurs de vos projets.</p>

    <!-- Informations de test -->
    <h3>ğŸ” Informations de test</h3>
    <div class="details-grid">
        <div class="detail-item">
            <div class="detail-label">Destinataire</div>
            <div class="detail-value">{{ user.fullName }}</div>
        </div>
        <div class="detail-item">
            <div class="detail-label">Email</div>
            <div class="detail-value">{{ user.email }}</div>
        </div>
        <div class="detail-item">
            <div class="detail-label">Date d'envoi</div>
            <div class="detail-value">{{ "now"|date('d/m/Y H:i') }}</div>
        </div>
        <div class="detail-item">
            <div class="detail-label">Statut</div>
            <div class="detail-value">âœ… ValidÃ©</div>
        </div>
    </div>

    <!-- Configuration validÃ©e -->
    <div class="success-card">
        <div class="card-title">
            âœ… Configuration validÃ©e
        </div>
        <div class="card-content">
            Votre systÃ¨me d'alertes Error Explorer est correctement configurÃ©.
            Vous recevrez dÃ©sormais toutes les notifications importantes concernant vos projets.
        </div>
    </div>

    <!-- Ã€ propos des vraies alertes -->
    <div class="info-card">
        <div class="card-title">
            ğŸ“‹ Ã€ propos des alertes rÃ©elles
        </div>
        <div class="card-content">
            Les vraies alertes d'erreurs contiendront :
            <ul class="styled-list">
                <li>Informations dÃ©taillÃ©es sur l'erreur dÃ©tectÃ©e</li>
                <li>Le projet et l'environnement concernÃ©</li>
                <li>Stack trace et contexte de l'erreur</li>
                <li>Liens directs vers votre dashboard</li>
                <li>Actions recommandÃ©es pour rÃ©soudre le problÃ¨me</li>
            </ul>
        </div>
    </div>

    <!-- FonctionnalitÃ©s des alertes -->
    <h3>âš¡ FonctionnalitÃ©s des alertes</h3>
    <div class="details-grid">
        <div class="detail-item" style="text-align: left; padding: 20px;">
            <div style="font-size: 24px; margin-bottom: 10px;">ğŸš¨</div>
            <div class="detail-label">Temps rÃ©el</div>
            <div style="font-size: 14px; color: #64748b;">Notifications instantanÃ©es</div>
        </div>
        <div class="detail-item" style="text-align: left; padding: 20px;">
            <div style="font-size: 24px; margin-bottom: 10px;">ğŸ¯</div>
            <div class="detail-label">PersonnalisÃ©es</div>
            <div style="font-size: 14px; color: #64748b;">Selon vos critÃ¨res</div>
        </div>
        <div class="detail-item" style="text-align: left; padding: 20px;">
            <div style="font-size: 24px; margin-bottom: 10px;">ğŸ“Š</div>
            <div class="detail-label">DÃ©taillÃ©es</div>
            <div style="font-size: 14px; color: #64748b;">Contexte complet</div>
        </div>
        <div class="detail-item" style="text-align: left; padding: 20px;">
            <div style="font-size: 24px; margin-bottom: 10px;">ğŸ”—</div>
            <div class="detail-label">Actionables</div>
            <div style="font-size: 14px; color: #64748b;">Liens directs dashboard</div>
        </div>
    </div>

    <!-- Prochaines Ã©tapes -->
    <div class="info-card">
        <div class="card-title">
            ğŸš€ Prochaines Ã©tapes
        </div>
        <div class="card-content">
            Maintenant que vos alertes sont configurÃ©es :
            <ol style="padding-left: 20px; margin: 0;">
                <li>Continuez Ã  utiliser vos applications normalement</li>
                <li>Les erreurs seront automatiquement dÃ©tectÃ©es</li>
                <li>Vous recevrez des alertes selon vos paramÃ¨tres</li>
                <li>Consultez le dashboard pour plus de dÃ©tails</li>
            </ol>
        </div>
    </div>

    <!-- Bouton dashboard -->
    <div class="btn-center">
        <a href="{{ app_url }}{{ path('dashboard_index') }}" class="btn btn-primary">
            ğŸ“Š AccÃ©der au dashboard
        </a>
    </div>

    <p class="text-center">
        Votre monitoring Error Explorer est maintenant opÃ©rationnel !<br>
        <strong>L'Ã©quipe Error Explorer</strong>
    </p>
{% endblock %}

{% block additional_footer_links %}
    <a href="{{ app_url }}{{ path('dashboard_index') }}" class="footer-link">Dashboard</a>
    <a href="{{ app_url }}{{ path('home_contact') }}" class="footer-link">Support</a>
{% endblock %}

{% block footer_legal %}
    Email de test envoyÃ© depuis Error Explorer<br>
    {{ "now"|date('d/m/Y Ã  H:i') }} | Configuration validÃ©e âœ…
{% endblock %}
